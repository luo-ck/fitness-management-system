# 用户功能改进计划

## 1. 整合消息功能到"我的"界面

### 1.1 创建新的"我的"整合页面
- 创建 `UserMyPage.vue` 作为新的"我的"主页面
- 使用 Element Plus 的 `el-tabs` 组件实现标签页切换
- 包含两个标签页：
  - "我的训练计划"：显示当前 `UserMyTraining.vue` 的内容
  - "我的消息"：显示当前 `UserInbox.vue` 的内容

### 1.2 更新路由配置
- 修改 `router/index.js`，将 "/user/my-training" 路由指向新的整合页面
- 调整路由参数，支持通过 URL 参数直接定位到特定标签页

### 1.3 更新用户中心页面
- 修改 `UserCenter.vue` 中 "我的" 按钮的点击事件，指向新的整合页面
- 确保所有导航链接指向正确的页面

## 2. 为教练申请添加附件上传功能

### 2.1 更新教练申请表单
- 修改 `CoachApplication.vue`，添加 Element Plus 的 `el-upload` 组件
- 支持多文件上传，包括图片和其他文件
- 添加文件预览和删除功能
- 限制文件类型和大小

### 2.2 更新表单数据结构
- 在 `applicationForm` 中添加 `attachments` 字段，用于存储上传的文件信息
- 处理文件上传的状态管理

### 2.3 更新提交逻辑
- 修改 `submitApplication` 方法，使用 `FormData` 提交表单，包含文件数据
- 确保 API 请求正确处理文件上传

### 2.4 更新后端 API 支持
- 后端需要添加文件上传支持，处理 multipart/form-data 请求
- 实现文件存储和管理逻辑

## 3. 更新相关组件和服务

### 3.1 更新消息组件
- 确保 `UserInbox.vue` 可以作为子组件在整合页面中正常工作
- 调整样式和布局，适应新的容器环境

### 3.2 更新训练计划组件
- 确保 `UserMyTraining.vue` 可以作为子组件在整合页面中正常工作
- 调整样式和布局，适应新的容器环境

### 3.3 更新 API 服务
- 在 `api.js` 中添加文件上传相关的配置
- 确保请求头正确设置，支持文件上传

## 4. 样式和交互优化

### 4.1 统一界面风格
- 确保新整合页面与现有界面风格一致
- 优化标签页切换的交互体验

### 4.2 响应式设计
- 确保在不同屏幕尺寸下都有良好的显示效果
- 优化移动端体验

### 4.3 加载状态和错误处理
- 添加适当的加载状态提示
- 完善错误处理机制

## 5. 测试和验证

### 5.1 功能测试
- 测试标签页切换功能
- 测试训练计划和消息功能在新页面中的正常使用
- 测试教练申请附件上传功能

### 5.2 兼容性测试
- 确保在不同浏览器中正常工作
- 测试文件上传在各种网络环境下的表现

### 5.3 性能测试
- 确保页面加载和切换流畅
- 测试大量文件上传的性能表现

## 6. 实施步骤

1. 创建 `UserMyPage.vue` 整合页面
2. 更新路由配置
3. 更新用户中心的导航链接
4. 修改 `CoachApplication.vue` 添加文件上传功能
5. 更新相关组件和服务
6. 进行测试和优化

## 7. 技术要点

- 使用 Element Plus 的 `el-tabs` 实现标签页切换
- 使用 Element Plus 的 `el-upload` 实现文件上传
- 使用 `FormData` 处理文件上传请求
- 确保组件的可复用性和灵活性
- 保持代码的清晰结构和良好的可维护性
# 实现计划

## 1. 学员编辑个人信息功能

### 前端实现

* **创建学员个人中心页面**：`frontend/src/views/UserProfile.vue`

  * 包含学员基本信息编辑表单

  * 表单字段：用户名、姓名、年龄、性别、身高、体重、联系方式、训练目标

  * 使用Element Plus表单组件

  * 实现表单验证

* **添加路由配置**：

  ```javascript
  { path: '/user/profile', component: UserProfile, meta: { requiresAuth: true } }
  ```

* **添加导航链接**：在用户中心页面添加个人信息编辑入口

### 后端实现

* **使用现有API**：`/users/{userId} PUT` 已存在，无需额外开发

## 2. 教练查看学员详情功能

### 前端实现

* **创建学员详情页面**：`frontend/src/views/CoachStudentDetail.vue`

  * 显示学员完整信息

  * 包含学员基本信息、训练计划列表、训练反馈列表

  * 添加从学员列表到详情页的导航

* **添加路由配置**：

  ```javascript
  { path: '/coach/student/:userId', component: CoachStudentDetail, meta: { requiresAuth: true } }
  ```

* **修改教练仪表盘**：在学员列表表格中添加"查看详情"按钮

### 后端实现

* **使用现有API**：`/users/{userId} GET` 已存在，无需额外开发

## 3. 教练查看/编辑训练计划功能

### 前端实现

* **创建训练计划列表页面**：`frontend/src/views/CoachTrainingPlans.vue`

  * 显示指定学员的训练计划列表

  * 包含创建、编辑、删除训练计划功能

* **创建训练计划编辑页面**：`frontend/src/views/CoachTrainingPlanEdit.vue`

  * 训练计划基本信息编辑

  * 运动项添加、编辑、删除

  * 使用Element Plus表格和表单组件

* **添加路由配置**：

  ```javascript
  { path: '/coach/student/:userId/plans', component: CoachTrainingPlans, meta: { requiresAuth: true } }
  { path: '/coach/student/:userId/plan/:planId?', component: CoachTrainingPlanEdit, meta: { requiresAuth: true } }
  ```

### 后端实现

* **创建训练计划Controller**：`TrainingPlanController.java`

  * 实现训练计划的CRUD API

  * 实现根据学员ID查询训练计划

  * 实现根据教练ID查询训练计划

* **API端点设计**：

  * `GET /training-plans/student/{userId}` - 获取学员训练计划

  * `GET /training-plans/{planId}` - 获取训练计划详情

  * `POST /training-plans` - 创建训练计划

  * `PUT /training-plans/{planId}` - 更新训练计划

  * `DELETE /training-plans/{planId}` - 删除训练计划

## 4. 教练查看训练反馈功能

### 前端实现

* **创建训练反馈列表页面**：`frontend/src/views/CoachFeedbackList.vue`

  * 显示指定学员的训练反馈

  * 包含反馈详情查看

* **添加路由配置**：

  ```javascript
  { path: '/coach/student/:userId/feedback', component: CoachFeedbackList, meta: { requiresAuth: true } }
  ```

* **集成到学员详情页面**：添加训练反馈标签页

### 后端实现

* **创建训练反馈Controller**：`FeedbackController.java`

  * 实现训练反馈的查询API

  * 实现根据学员ID查询反馈

  * 实现根据训练计划ID查询反馈

* **API端点设计**：

  * `GET /feedback/student/{userId}` - 获取学员训练反馈

  * `GET /feedback/plan/{planId}` - 获取训练计划的反馈

  * `GET /feedback/{feedbackId}` - 获取反馈详情

## 5. 数据库配置

### 检查现有表结构

* 确保TrainingPlan、TrainingPlanExercise、Exercise、Feedback表已正确创建

* 检查外键关系是否正确

## 6. 实现顺序

1. 实现学员编辑个人信息功能
2. 实现教练查看学员详情功能
3. 实现训练计划管理功能
4. 实现训练反馈查看功能
5. 集成所有功能到教练控制台

## 技术要点

* 使用Vue 3 + Element Plus构建前端界面

* 使用Spring Boot + MyBatis构建后端API

* 使用JWT进行身份认证

* 确保数据格式统一，使用驼峰命名

* 实现表单验证和错误处理

* 确保API安全性，验证用户权限

## 测试计划

1. 学员编辑个人信息功能测试
2. 教练查看学员详情功能测试
3. 教练创建/编辑训练计划功能测试
4. 教练查看训练反馈功能测试
5. 权限验证测试
6. 数据一致性测试


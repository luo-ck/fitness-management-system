## 实现教练登录功能

### 需求分析
用户提供的前端代码中新增了`coachLogin`方法，用于处理教练登录，需要在后端实现对应的API接口。

### 实现步骤

1. **修改AuthController.java**
   - 注入`ICoachService`依赖
   - 新增教练登录接口`/auth/coach/login`
   - 实现教练登录逻辑：根据用户名查询教练、验证密码、生成JWT令牌

2. **修改SecurityConfig.java**
   - 将教练登录接口`/api/auth/coach/login`添加到允许匿名访问的路径列表中

### 代码修改点

1. **AuthController.java**
   ```java
   // 注入教练服务
   @Autowired
   private ICoachService coachService;

   /**
    * 教练登录
    * @param coach 教练登录信息
    * @return 包含JWT token和教练信息的响应
    */
   @PostMapping("/coach/login")
   public ResponseEntity<Map<String, Object>> coachLogin(@RequestBody Coach coach) {
       // 根据用户名查询教练
       Coach existingCoach = coachService.selectCoachByUsername(coach.getUsername());
       if (existingCoach == null) {
           return ResponseEntity.status(HttpStatus.UNAUTHORIZED).build();
       }
       // 验证密码
       if (!passwordEncoder.matches(coach.getPasswordHash(), existingCoach.getPasswordHash())) {
           return ResponseEntity.status(HttpStatus.UNAUTHORIZED).build();
       }
       // 密码验证通过，生成JWT token
       String token = jwtUtil.generateToken(existingCoach.getUsername());
       
       // 构建响应对象
       Map<String, Object> response = new HashMap<>();
       response.put("token", token);
       response.put("coach", existingCoach);
       
       return ResponseEntity.ok(response);
   }
   ```

2. **SecurityConfig.java**
   ```java
   @Override
   protected void configure(HttpSecurity http) throws Exception {
       http
           .csrf().disable()
           .authorizeRequests()
               .antMatchers("/api/auth/register", "/api/auth/login", "/api/auth/coach/login").permitAll()
               .antMatchers("/api/**").authenticated()
           .and()
           .sessionManagement()
               .sessionCreationPolicy(SessionCreationPolicy.STATELESS)
           .and()
           .addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);
   }
   ```

### 预期结果
- 教练可以通过用户名和密码登录系统
- 登录成功后返回JWT令牌和教练信息
- 前端可以存储教练信息和令牌，实现教练身份验证

### 依赖检查
- 已存在`ICoachService`接口，包含`selectCoachByUsername`方法
- 已存在`Coach`实体，包含`username`和`passwordHash`字段
- 已存在`JwtUtil`工具类，可用于生成和验证JWT令牌
- 已存在`BCryptPasswordEncoder`，可用于密码验证

以上修改完成后，教练登录功能将正常工作，与前端的`coachLogin`方法对接。
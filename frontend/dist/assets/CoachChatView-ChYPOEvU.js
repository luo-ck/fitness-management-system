import{_ as m,r as l,J as C,o as w,b,h as o,d as s,w as u,e as d,L as g,M as k,n as y,a as x,g as N,i as V,j as B,q as L}from"./index-CDdLYQBg.js";const M={class:"chat-view-container"},R={class:"chat-view-header"},q={class:"chat-view-content"},I={class:"conversation-section"},S={class:"dialog-section"},T={__name:"CoachChatView",setup(j){const _=x(),r=y(),n=l(null),c=l(null),h=t=>{n.value=t},v=()=>{c.value&&c.value.fetchConversations()},f=()=>{_.push("/coach/dashboard")},i=()=>{const{otherId:t,otherName:e,otherType:a}=r.query;t&&e&&a&&(n.value={otherId:Number(t),otherName:e,otherType:a})};return C(()=>r.query,()=>{i()},{immediate:!0}),w(()=>{i()}),(t,e)=>{const a=d("el-icon"),p=d("el-button");return N(),b("div",M,[o("div",R,[s(p,{type:"primary",plain:"",onClick:f,class:"back-button"},{default:u(()=>[s(a,null,{default:u(()=>[s(B(L))]),_:1}),e[0]||(e[0]=V(" 返回教练控制台 ",-1))]),_:1}),e[1]||(e[1]=o("h1",{class:"chat-view-title"},"消息中心",-1))]),o("div",q,[o("div",I,[s(g,{ref_key:"conversationListRef",ref:c,onSelectConversation:h},null,512)]),o("div",S,[s(k,{"current-conversation":n.value,onMessageSent:v},null,8,["current-conversation"])])])])}}},E=m(T,[["__scopeId","data-v-5812af35"]]);export{E as default};
